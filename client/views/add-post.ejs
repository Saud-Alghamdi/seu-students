<html dir="<%=langDirection%>">
  <head>
    <%- include('partials/head.ejs') %>
    <title><%=langData.addPostPage_TITLE%></title>
  </head>
  <body class="d-flex flex-column" id="add-post-page">
    <%- include('partials/nav.ejs') %>

    <!-- Loader -->
    <div id="loader-container" class="visually-hidden">
      <div id="loader"></div>
    </div>

    <!-- If failed to add a post -->
    <% if(typeof addPostSuccess !== 'undefined' && addPostSuccess === false) { %>
    <script>
      showToast(false, "<%= langData.toast_ADD_POST_FAIL%>");
    </script>
    <% } %>

    <main class="container position-relative flex-grow-1 text-light my-4">
      <!-- Back link -->
      <% if(langDirection === 'rtl') { %>
      <a class="link back-link position-absolute text-light mt-3" onclick="history.back()">
        <i class="fas fa-reply fa-lg fa-flip-horizontal"></i>
      </a>
      <% } else { %>
      <a class="link back-link position-absolute text-light mt-3" onclick="history.back()">
        <i class="fas fa-reply fa-lg"></i>
      </a>
      <% } %>

      <header class="text-center">
        <h1><%=langData.addPostPage_HEADER%></h1>
      </header>

      <form action="./addPostProcess" method="POST" enctype="multipart/form-data" class="form add-post-form mt-4 bg-secondary p-4 rounded-5 mx-auto">
        <div class="mb-3">
          <label for="" class="form-label"><%=langData.addPostPage_POST_TITLE%></label>
          <input name="title" type="text" class="title-input form-control" id="title" maxlength="70" required />
          <span class="error-message error-message-title-input"></span>
        </div>
        <div class="mb-3">
          <label for="document" class="form-label">
            <%=langData.addPostPage_FILE%>
            <input type="file" name="file" class="file-input w-100" accept=".pdf, .ppt, .pptx, .doc, .docx" required />
            <span class="error-message error-message-file-input"></span>
            <br />
            <small><%=langData.addPostPage_FILE_RULE1%></small>
            <br />
            <small><%=langData.addPostPage_FILE_RULE2%></small>
          </label>
        </div>
        <button id="submitButton" type="submit" class="add-post-submit-btn btn btn-regular btn-lg d-block mx-auto mt-4"><%=langData.addPostPage_ADD%></button>
      </form>
    </main>

    <%- include('partials/footer.ejs') %>
  </body>
</html>

## Tasks:

# PRIORTY:
- department boxes in phone view
- DEPLOY  

## Tasks:
- fileSize validation on front-end and back-end
- session expiration time + prevent users from accessing pages by writing url
- Add a role (owner, admin, user) and each his functionality
- a huge refactor for the design until it's fully ready for the MVP (bootstrap code, layouts, positioning, repeated and inconsistent code, text length in posts, etc.)
- user dashboard
- Clean server side code
- Forgot Password
- res status code?
- Translation

## Future features:

- Add other faculties
- Doctor rating
- Comments
- Likes
- Preview the document before downloading it

iOS: 
bs-local.com:3000

_________________________________

## Translation functionality:

- in routes.js:

// LANG config
function detectLanguageMiddleware(req, res, next) {
  const supportedLanguages = ["ar", "en"];
  const userLanguage = req.query.lang || req.headers["accept-language"].split(",")[0].slice(0, 2);

  if (!supportedLanguages.includes(userLanguage)) {
    res.status(400).send(`Unsupported language ${userLanguage}`);
    return;
  }

  req.userLanguage = userLanguage;
  req.translationFile = require(path.join(__dirname, "../lang/" + userLanguage + ".json"));
  next();
}
router.use(detectLanguageMiddleware);

- in RouteHandler.js:

static renderHomePage(req, res) {
    const success = req.query.success === "true"; // for toast to work

    if (userIsLoggedIn(req)) {
      res.render("home", {
        success,
        msg: "Logged in successfully!",
        user: req.session.user,
      });
    } else {
      res.render("home", { success, translation: req.translationFile });
    }
  }

- in home.ejs:

<h1><%= translation.WELCOME_STUDENTS %></h1>

ar.json:

{
  "HOME_WORD": "الرئيسية",
  "DEPARTMENTS_WORD": "التخصصات",
  "CONTACT_US_WORD": "تواصل معنا",
  "LOGIN_WORD": "تسجيل دخول",
  "SIGNUP_WORD": "التسجيل",
  "LOGOUT_WORD": "تسجيل خروج",
  "WELCOME_STUDENTS": "مرحبًا بطلاب الجامعة السعودية الإلكترونية!",
  "WELCOME_MESSAGE": "تحية ......",
  "SIGNUP_FAILED": "فشل التسجيل، حدث خطأ ما ..",
  "SIGNUP_SUCCESSFUL": "تم التسجيل بنجاح!",
  "USERNAME_EXISTS": "اسم المستخدم موجود مسبقًا.",
  "INVALID_USERNAME_NO_START_LETTER": "اسم المستخدم يجب أن يبدأ بحرف.",
  "INVALID_USERNAME_CONTENT": "اسم المستخدم يمكن أن يحتوي على حروف وأرقام أو شرطة سفلية فقط.",
  "INVALID_USERNAME_LENGTH": "اسم المستخدم يجب أن يكون ما بين 3 إلى 25 حرف.",
  "EMAIL_EXISTS": "البريد الإلكتروني موجود مسبقًا.",
  "INVALID_EMAIL_FORMAT": "البريد الإلكتروني خاطئ.",
  "INVALID_PASSWORD_CONTENT": "لا يمكن أن تحتوي كلمة المرور على مسافة.",
  "INVALID_PASSWORD_LENGTH": "كلمة المرور يجب أن تكون ما 6 حروف أو أكثر.",
  "NO_GENDER_SELECTED": "فضلًا اختر نوع الجنس.",
  "LOGIN_SUCCESSFUL": "تم تسجيل الدخول بنجاح!",
  "LOGIN_FAILED": "فشل تسجيل الدخول، حدث خطأ ما.",
  "INCORRECT_CREDS": "اسم المستخدم أو البريد الإلكتروني أو كلمة المرور خطأ.",
  "COMPUTER_SCIENCE_WORD": "علوم الحاسب",
  "INFORMATION_TECHNOLOGY_WORD": "تقنية المعلومات",
  "DATA_SCIENCE_WORD": "علوم البيانات",
  "POSTS_WORD": "المنشورات",
  "NEED_LOGIN_ADD_POST": "يجب تسجيل الدخول أولًا لتتمكن من إنشاء منشور.",
  "ADD_POST_WORD": "إضافة منشور",
  "MUST_WRITE_TITLE": "يجب كتابة عنوان.",
  "MUST_UPLOAD_FILE": "يجب اختيار ملف.",
  "INVALID_FILE_TYPE": "ملف غير مقبول، الملفات المقبولة PDF, Powerpoint, Word فقط.",
  "POST_FAILED": "فشل انشاء منشور، حدث خطأ ما ..",
  "POST_SUCCESS": "تم انشاء المنشور بنجاح.",
  "DEVELOPED_BY ": "تم التطوير بواسطة:"
}

en.json:

{
  "HOME_WORD": "Home",
  "DEPARTMENTS_WORD": "Departments",
  "CONTACT_US_WORD": "Contact us",
  "LOGIN_WORD": "Log in",
  "SIGNUP_WORD": "Sign up",
  "LOGOUT_WORD": "Log out",
  "WELCOME_STUDENTS": "Welcome SEU Students!",
  "WELCOME_MESSAGE": "lorem something ...",
  "SIGNUP_FAILED": "Sign up failed, something went wrong ..",
  "SIGNUP_SUCCESSFUL": "Signed up successfully!",
  "USERNAME_EXISTS": "Username already exists.",
  "INVALID_USERNAME_NO_START_LETTER": "Username must start with a letter.",
  "INVALID_USERNAME_CONTENT": "Username can only contain letters, numbers, and underscores.",
  "INVALID_USERNAME_LENGTH": "Username must be between 3 to 25 characters",
  "EMAIL_EXISTS": "Email already exists.",
  "INVALID_EMAIL_FORMAT": "Invalid email address.",
  "INVALID_PASSWORD_CONTENT": "Password can't contain spaces.",
  "INVALID_PASSWORD_LENGTH": "Password must be at least 6 characters long.",
  "NO_GENDER_SELECTED": "Please select a gender.",
  "LOGIN_SUCCESSFUL": "Logged in successfully!",
  "LOGIN_FAILED": "Log in failed, something went wrong ..",
  "INCORRECT_CREDS": "Username, email, or password is incorrect.",
  "COMPUTER_SCIENCE_WORD": "Computer Science",
  "INFORMATION_TECHNOLOGY_WORD": "Information Technology",
  "DATA_SCIENCE_WORD": "Data Science",
  "POSTS_WORD": "Posts",
  "NEED_LOGIN_ADD_POST": "You need to log in to add a post.",
  "ADD_POST_WORD": "Add Post",
  "MUST_WRITE_TITLE": "A title is needed.",
  "MUST_UPLOAD_FILE": "You must upload a file",
  "INVALID_FILE_TYPE": "Invalid file type. Only PDF, Word, and PowerPoint files are allowed.",
  "POST_FAILED": "Error submitting post, something went wrong ..",
  "POST_SUCCESS": "Post submitted successfully!",
  "DEVELOPED_BY": "Developed by:"
}


  static renderLoginPage(req, res) {
    if (!req.query) {
      res.render("login");
    } else if (req.query.signupSuccess === "true") {
      res.render("login", { success: true, msg: "تم التسجيل بنجاح!" });
    } else if (req.query.logoutSuccess === "true") {
      res.render("login", { success: true, msg: "تم تسجيل الخروج بنجاح!" });
    } else if {
      res.render("login", {
        success: false,
        msg: "Username or password is incorrect",
      });
    }
  }
